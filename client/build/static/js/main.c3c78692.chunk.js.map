{"version":3,"sources":["components/UserContext.js","components/Landing/Landing.js","components/Dashboard/Dashboard.js","components/Login/Login.js","components/Register/Register.js","components/PrivateRoute.js","components/NavigationBar/NavigationBar.js","App.js","reportWebVitals.js","index.js"],"names":["UserContext","createContext","Landing","user","useContext","console","log","Dashboard","email","firstname","lastname","Login","useHistory","useLocation","state","from","pathname","useState","setEmail","password","setPassword","loginUser","evt","a","preventDefault","axios","post","response","data","alert","localStorage","setItem","_id","onSubmit","id","placeholder","value","onChange","e","target","type","style","margin","href","variant","onClick","get","headers","then","idRes","Register","setFirstname","setLastname","registerUser","window","location","PrivateRoute","children","path","setUser","menu","setMenu","rest","history","useEffect","mounted","userInfo","removeItem","push","Provider","render","getItem","to","NavigationBar","active","Navbar","collapseOnSelect","bg","expand","Brand","Toggle","aria-controls","Collapse","className","Nav","Link","NavDropdown","Divider","Button","error","App","CookiesProvider","exact","strict","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c3c78692.chunk.js","sourcesContent":["import {createContext} from 'react'\n\nexport const UserContext = createContext(null);","import React, {useContext} from 'react';\nimport {UserContext} from '../UserContext'\n\nconst Landing = () => {\n\n    const user = useContext(UserContext)\n    console.log('USER CONTEXT: ', user)\n    return(\n        <div>\n            LANDING\n        </div>\n    );\n};\n\nexport default Landing;","import React, { useContext } from 'react';\nimport {UserContext} from '../UserContext'\n\nconst Dashboard = () => {\n\n    let {user} = useContext(UserContext)\n    console.log('HOME USER CONTEXT', user)\n\n    return(\n        user ?\n            <>\n                <div>email: {user.email}</div>\n                <div>firstname: {user.firstname}</div>\n                <div>lastname: {user.lastname}</div>\n            </> : <></>\n    );\n}\n\nexport default Dashboard;","import React, {useState} from 'react';\nimport axios from 'axios'\nimport { useHistory, useLocation } from 'react-router-dom'\n\nexport const Login = () => {\n\n    let history = useHistory();\n    let location = useLocation();\n    let { from } = location.state || { from: { pathname: \"/dashboard\" } };\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const loginUser = async (evt) => {\n        evt.preventDefault();\n\n        const user = {\n            email: email,\n            password: password\n\n        }\n\n        try {   \n            const response = await axios.post('http://localhost:5000/api/login-user', user)\n            console.log(response)\n            if(response.data === \"invalid email\"){\n                setEmail('');\n                setPassword('');\n                alert('That username does not exist in our system')\n                \n            }else if(response.data === \"invalid password\"){\n                setPassword('');\n                alert('Invalid password')\n                \n            }else{\n                localStorage.setItem('user', response.data._id)\n                //go to home\n                //history.replace(from)\n            }\n        } catch (error) {\n            console.log(error)\n        }\n        \n    }\n\n    const checkSession = (e) => {\n        e.preventDefault()\n\n        axios.get(`http://localhost:5000/api/get-session`,{\n          headers: {\n              'Content-Type': 'application/json'\n          }\n      })\n      .then(idRes => {\n        console.log('App.js info',idRes)         \n      })\n    }\n\n    return(\n        <>\n            <form onSubmit = {loginUser}>\n                <h2>Login</h2>\n                <input id='email' placeholder = 'Email Address' value = {email} onChange = {(e) => setEmail(e.target.value)}/>\n                <input id='password' placeholder = 'Password' value = {password} onChange = {(e) => setPassword(e.target.value)} type=\"password\"/>\n                <div style={{margin: '10px 0px'}}><a href=\"/register\">Dont have an account? Register</a></div>\n                <button type=\"submit\" variant=\"primary\">Login</button>\n            </form>\n            <button onClick={checkSession}>check sesh</button>\n        </>\n    );\n};\n\nexport default Login;","import React, {useState} from 'react';\nimport axios from 'axios';\n\nexport const Register = () => {\n    const [firstname, setFirstname] = useState(\"\");\n    const [lastname, setLastname] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const registerUser = async (evt) =>{\n        evt.preventDefault();\n        console.log('register user');\n        const user = {\n            firstname: firstname,\n            lastname: lastname,\n            email: email,\n            password: password\n        }\n\n            try{\n                let response = await axios.post('http://localhost:5000/api/register', user)\n\n                localStorage.setItem('user', response.data._id)\n                window.location.href=  '/dashboard'\n            }catch(error){console.log(error)}\n    }\n\n    return(\n        <>\n            <form onSubmit={registerUser}>\n                <h2>Register</h2>\n                <input id='firstname' placeholder='First Name' value = {firstname} onChange = {e => setFirstname(e.target.value)}/>\n                <input id='lastname' placeholder='Last Name' value = {lastname} onChange = {e => setLastname(e.target.value)}/>\n                <input id='email' placeholder='Email Address' value = {email} onChange = {e => setEmail(e.target.value)} type=\"email\"/>\n                <input id='password' placeholder='Password' value = {password} onChange = {e => setPassword(e.target.value)} type=\"password\"/>\n\n                <button >Register!</button>\n            </form>\n        </>\n    );\n};\n\nexport default Register;","import React, {useEffect} from 'react'\nimport {Redirect, Route, useHistory} from 'react-router-dom'\nimport axios from 'axios'\nimport {UserContext} from './UserContext'\n\n\nfunction PrivateRoute({children, path,user, setUser, menu, setMenu, ...rest}) {\n    let history = useHistory()\n\n\n    useEffect(() => {\n        let mounted = true\n        if(user === null){\n            axios.get(`http://localhost:5000/api/get-session`)\n            .then(idRes => {\n                \n                    console.log('PrivateRoute.js info',idRes)\n                    if(!idRes.data.userInfo){\n                        console.log('Push')\n                        localStorage.removeItem('user')\n                        history.push('/login')\n                    }\n                    if(mounted){\n                        setUser(idRes.data.userInfo)\n                    }            \n            })\n        }\n\n          return () => mounted = false\n      },[history, setMenu, setUser, user])\n\n\n    return <UserContext.Provider value = {{user, menu}}><Route {...rest} render={({ location }) => localStorage.getItem('user') !== null ? (children) : ( <Redirect to={{ pathname: \"/login\", state: { from: location }}}/>)}/></UserContext.Provider>\n\n}\n\n\nexport default PrivateRoute","import React, { useContext } from 'react'\nimport Navbar from 'react-bootstrap/Navbar'\nimport Button from 'react-bootstrap/Button'\nimport Nav from 'react-bootstrap/Nav'\nimport NavDropdown from 'react-bootstrap/NavDropdown'\nimport axios from 'axios'\nimport {UserContext} from '../UserContext'\n\nfunction NavigationBar() {\n\n    let {user} = useContext(UserContext)\n    console.log('NAV USER CONTEXT', user)\n\n    const active = window.location.pathname\n\n    const logout = e => {\n        e.preventDefault()\n\n        try{      \n            axios.get('/logout')\n            localStorage.removeItem('user')\n            window.location.href = '/'\n        }catch(error){\n            alert(error)\n        }\n    }\n\n    const login = e => {\n        e.preventDefault()\n        window.location.href = '/login'\n    }\n    return (\n            <Navbar collapseOnSelect bg=\"dark\" variant=\"dark\" expand=\"xl\">\n                <Navbar.Brand href=\"/home\">Mern Template</Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                <Navbar.Collapse id=\"responsive-navbar-nav\" className=\"justify-content-end\">\n                    <Nav className=\"justify-content-end\">\n                        {!user ? \n                            <>\n                                <Button variant=\"primary\" onClick={login} style={{margin: \"0px 20px\"}}>Login</Button>\n                            </> :\n                            <>\n                                <Nav.Link className={active === '/home' ? \"active\" : \"\"} href =\"/home\">Home</Nav.Link>\n                                <NavDropdown.Divider />\n                                <Button variant=\"danger\" onClick={logout} style={{margin: \"0px 20px\"}}>Logout</Button>\n                            </>\n                            }\n                    \n                    </Nav>\n                </Navbar.Collapse>\n            </Navbar>\n    )\n}\n\nexport default NavigationBar","import React, {useState, useEffect} from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Landing from './components/Landing/Landing';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport Login from './components/Login/Login';\nimport Register from './components/Register/Register';\nimport PrivateRoute from './components/PrivateRoute'\nimport NavigationBar from './components/NavigationBar/NavigationBar';\nimport {CookiesProvider} from 'react-cookie'\nimport { UserContext } from './components/UserContext';\nimport axios from 'axios'\n\nfunction App() {\n\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    let mounted = true\n    \n    axios.get(`http://localhost:5000/api/get-session`,{\n          headers: {\n              'Content-Type': 'application/json'\n          }\n      })\n      .then(idRes => {\n        console.log('App.js info',idRes)\n        if(mounted){\n          setUser(idRes.data.userInfo)\n        }            \n      })\n\n    return () => mounted = false\n  },[setUser])\n\n  return (\n    <CookiesProvider>\n        <Router> \n          <UserContext.Provider value={{user}}>\n            <NavigationBar/>\n          </UserContext.Provider> \n            <Switch>           \n              <PrivateRoute path=\"/dashboard\" user={user} setUser={setUser}>     \n                <Route exact strict component={Dashboard}/>\n              </PrivateRoute>\n        \n              <UserContext.Provider value={{user}}>\n                <Route path=\"/\" exact strict component={Landing}/>\n                <Route path=\"/login\"  exact strict component={Login} />\n                <Route path=\"/register\"  exact strict component={Register} />\n              </UserContext.Provider>       \n            </Switch>\n        </Router>\n    </CookiesProvider>\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}